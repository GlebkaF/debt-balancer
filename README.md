# debt-balancer
Приложение, помогает вести учет долгов между друзьями. Написано на Angular + serverless nodejs.

Деплоится по мержу в мастер:
* https://debt-balancer-sigma-five.now.sh/ - приложение
* https://debt-balancer-sigma-five.now.sh/api - json rpc api, пример post запроса:
```json
{	
  "method": "getUserInfo",
  "id": 123,
  "jsonrpc": "2.0",
  "params": {
    "id": "glebkaf"
  }
}
```

## 1.0.0 Roadmap
* [ ] Доделать экраны приложения
    * [ ] "Добавить покупку"
    * [ ] "Погасить долг"
    * [ ] "Посмотреть инфу"
* [ ] Закрыть аккаунты паролем, чтобы случайно промахнуться аккаунтом при авторизации
* [ ] Сделать апи и сам экран "История транзакций", на котором будут отображаться все покупки и погашения долгов

## Разработка

* `yarn start` - запускает тестовый now.sh сервер с собранным ангуляр приложением и апи, сам пересобирается при изменении исходников, но ангуляр приложение ребилдится с 0, поэтому в деве клиента, лучше юзать yarn serve.
* `yarn serve` - запускает вебпак дев сервер с ангуляр приложением

Для локальной разработки нужно в .env файле указать параметры подключения к монге, в формате:
```
MONGODB_URI=mongodb+srv://user:password@your-base.mongodb.net/test?retryWrites=true&w=majority
```

В монге должна быть коллекциия users:
```
users: 
[{
    id: string,
    balances: {
        [userId]: Number
    }
}]
```
